# АРМ Мастера по Ремонту (ExpertService)

Проект представляет собой десктопное WPF-приложение для автоматизации работы сервисного центра по ремонту техники. Приложение реализует три ключевые роли: Мастер, Менеджер и Администратор, каждая со своим набором прав и возможностей.

## 🚀 О проекте

Это приложение создано как "Автоматизированное рабочее место" (АРМ) и служит для управления жизненным циклом заказов на ремонт — от их создания до завершения, а также для администрирования системы.

### Основные роли:
*   **Мастер по ремонту**: Основной пользователь системы. Видит назначенные ему заказы, управляет их статусами, ведет журнал ремонта и списывает запчасти со склада.
*   **Менеджер**: Отвечает за приемку техники. Может создавать новые заказы и назначать их мастерам.
*   **Администратор**: Управляет всей системой. Имеет доступ к управлению персоналом, складом и справочниками.

## ✨ Ключевые возможности

### Для Мастера (АРМ)
- **Авторизация**: Безопасный вход в систему по логину и паролю.
- **Список заказов**: Просмотр списка заказов, назначенных только текущему мастеру.
- **Карточка заказа**: Детальный просмотр информации о клиенте, устройстве и проблеме.
- **Управление статусами**: Изменение статуса заказа (например, "В диагностике", "Ожидает согласования").
- **Журнал ремонта**: Возможность добавлять технические комментарии о ходе работ.
- **Работа со складом**: Списание использованных запчастей со склада.
- **Справочники**: Быстрый доступ к базе знаний по типовым неисправностям и методам их устранения.

### Для Менеджера
- **Создание заказов**: Полноценный интерфейс для регистрации новых заказов, включая добавление новых клиентов и устройств.
- **Назначение мастеров**: Возможность выбрать ответственного мастера при создании заказа.

### Для Администратора
- **Управление персоналом (CRUD)**: Добавление, редактирование и удаление учетных записей сотрудников (мастеров, менеджеров).
- **Управление складом (CRUD)**: Добавление, редактирование и удаление запчастей.
- **Управление справочниками (CRUD)**: Возможность пополнять базу знаний по типовым неисправностям.

## 💻 Технологический стек

*   **Платформа**: .NET Framework 4.7.2+
*   **Язык**: C#
*   **Интерфейс**: WPF (XAML)
*   **База данных**: Microsoft SQL Server
*   **ORM**: Entity Framework 6 (Database First)

## 🛠️ Начало работы

Чтобы запустить проект на локальной машине, выполните следующие шаги.

### Необходимые компоненты
- **Visual Studio 2019/2022** с рабочей нагрузкой "Разработка классических приложений .NET".
- **Microsoft SQL Server** (любая версия, например, Express Edition).
- **SQL Server Management Studio (SSMS)**.

### Установка и запуск

1.  **Клонируйте репозиторий:**
    ```sh
    git clone https://github.com/Haruki159/ExpertService.git
    ```

2.  **Настройте базу данных:**
    *   Найдите в проекте SQL-скрипт для создания базы данных.
    *   Откройте **SSMS** и выполните этот скрипт. Он создаст базу данных `RepairServiceDB` со всеми необходимыми таблицами и начальными данными.

3.  **Настройте строку подключения:**
    *   Откройте файл `App.config` в корне проекта.
    *   Найдите секцию `<connectionStrings>`.
    *   Измените атрибут `data source` на имя вашего экземпляра SQL Server. Например:
        ```xml
        <connectionStrings>
          <add name="RepairServiceDBEntities" 
               connectionString="metadata=res://*/DataBase.RepairServiceDB.csdl|res://*/...;provider=System.Data.SqlClient;provider connection string=&quot;data source=YOUR_SERVER_NAME;initial catalog=RepairServiceDB;integrated security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;" 
               providerName="System.Data.EntityClient" />
        </connectionStrings>
        ```
        Замените `YOUR_SERVER_NAME` на `.` или `(localdb)\mssqllocaldb` (для локальной версии) или `COMPUTERNAME\SQLEXPRESS` (для Express версии).

4.  **Запустите приложение:**
    *   Откройте решение (`.sln`) в Visual Studio.
    *   Восстановите NuGet-пакеты (обычно происходит автоматически).
    *   Нажмите **F5** или кнопку "Пуск" для запуска проекта.

### Учетные данные для входа
- **Администратор**: `Логин: admin`, `Пароль: admin`
- **Мастер**: `Логин: ivanov_ii`, `Пароль: ivanov`

## 🗃️ Структура базы данных

База данных спроектирована по принципам нормализации и включает следующие ключевые таблицы:
- `Users`, `Roles`, `Masters` — отвечают за аутентификацию и разграничение прав.
- `Orders`, `Clients`, `Devices` — ядро системы, хранящее информацию о заказах.
- `OrderStatuses`, `TypicalFaults` — справочные таблицы для гибкости системы.
- `SpareParts`, `UsedParts` — отвечают за учет и списание запчастей.
- `RepairLog` — хранит историю всех комментариев мастера по каждому заказу.

## 🔮 Возможные улучшения

- [ ] Внедрение хэширования паролей с использованием соли (например, `BCrypt` или `PBKDF2`).
- [ ] Разработка системы уведомлений для клиентов (Email/SMS) об изменении статуса заказа.
- [ ] Создание дашбордов и отчетов для администратора (статистика по заказам, мастерам, прибыли).
- [ ] Добавление фото к заказам (например, фото поврежденного устройства).
- [ ] Локализация приложения (поддержка нескольких языков).